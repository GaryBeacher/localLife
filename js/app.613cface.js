(function(){var t={7447:function(t,e,i){"use strict";var n=i(6369),o=function(){var t=this,e=t._self._c;return e("div",[t.isfixTab?e("div",{staticClass:"left-menu"},[t._l(t.hotelArr,(function(i){return e("a",{key:i.id+Math.random(),staticClass:"action",attrs:{href:"#"+i.id}},[t._v(" "+t._s(i.name)+" ")])})),t._l(t.aroundArr,(function(i){return e("a",{key:i.id+Math.random(),staticClass:"action",attrs:{href:"#"+i.id}},[t._v(" "+t._s(i.name)+" ")])})),t._l(t.signInArr,(function(i){return e("a",{key:i.id+Math.random(),staticClass:"action",attrs:{href:"#"+i.id}},[t._v(" "+t._s(i.name)+" ")])}))],2):t._e(),e("Banner"),t.isfixTab?e("ul",{staticClass:"menu-box"}):t._e(),e("ul",{class:{"menu-box":!0,fixedNavbar:t.isfixTab},attrs:{id:"menu"}},[t._m(0),t._m(1),t._m(2),t._m(3)]),e("h1",[t._v("基本信息")]),e("BaseInfo",{on:{saveImgToDownLoad:t.saveImgToDownLoad}}),e("hr",{attrs:{align:"center",width:"80%",color:"#ccc",SIZE:"1"}}),e("h1",[t._v("关于本店")]),e("About",{on:{saveImgToDownLoad:t.saveImgToDownLoad}}),e("hr",{attrs:{align:"center",width:"80%",color:"#ccc",SIZE:"1"}}),e("h1",{staticClass:"module-title"},[t._v(" 酒店特色服务 "),e("div",{staticClass:"add-new",on:{click:function(e){return t.addSection("hotel")}}},[t._v("新增模块")])]),t._l(t.hotelArr,(function(i,n){return[e("h2",{key:i.id+Math.random()},[t._v(t._s(i.name))]),e("div",{key:i.id+Math.random(),staticClass:"section",attrs:{id:i.id}},[e("Hotel",{attrs:{id:i.id,itemIndex:n,name:i.name},on:{removeSection:t.removeSection,saveImgToBoard:t.saveImgToBoard}})],1),e("hr",{key:i.id+Math.random(),attrs:{align:"center",width:"80%",color:"#ccc",SIZE:"1"}})]})),e("h1",{staticClass:"module-title"},[t._v(" 周边吃喝玩乐 "),e("div",{staticClass:"add-new",on:{click:function(e){return t.addSection("around")}}},[t._v("新增模块")])]),t._l(t.aroundArr,(function(i,n){return[e("h2",{key:i.id+Math.random()},[t._v(t._s(i.name))]),e("div",{key:i.id+Math.random(),staticClass:"section",attrs:{id:i.id}},[e("Around",{attrs:{id:i.id,itemIndex:n,name:i.name},on:{removeSection:t.removeSection,saveImgToBoard:t.saveImgToBoard}})],1),e("hr",{key:i.id+Math.random(),attrs:{align:"center",width:"80%",color:"#ccc",SIZE:"1"}})]})),e("h1",{staticClass:"module-title"},[t._v(" 城市必打卡 "),e("div",{staticClass:"add-new",on:{click:function(e){return t.addSection("signIn")}}},[t._v("新增模块")])]),t._l(t.signInArr,(function(i,n){return[e("h2",{key:i.id+Math.random()},[t._v(t._s(i.name))]),e("div",{key:i.id+Math.random(),staticClass:"section",attrs:{id:i.id}},[e("SignIn",{attrs:{id:i.id,itemIndex:n,name:i.name},on:{removeSection:t.removeSection,saveImgToBoard:t.saveImgToBoard}})],1),e("hr",{key:i.id+Math.random(),attrs:{align:"center",width:"80%",color:"#ccc",SIZE:"1"}})]})),e("div",{staticClass:"section"},[e("button",{staticClass:"custom-btn btn-4 submit",on:{click:t.createBoardList}},[t._v(" 提交 ")])]),t.showBoardList?e("div",{staticClass:"section board-list"},[e("div",{staticClass:"mask",on:{click:t.close}}),t.showDownload?t._e():e("div",{staticClass:"display-board"},[e("div",{staticClass:"board-list-box"},t._l(t.boardList,(function(i){return e("div",{key:i.id+Math.random(),class:{"swiper-slide":!0,checked:i.checked||!1},on:{click:function(e){return t.changeChecked(i)}}},[e("MyCheckBox",{attrs:{item:i}},[t._v(t._s(i.id))])],1)})),0),e("div",{staticClass:"make-board",on:{click:t.makeBoard}},[t._v("生成展板")])]),t.showDownload?e("div",{staticClass:"display-board"},[e("div",{staticClass:"board-box"},[e("div",{staticClass:"back-board-list",on:{click:t.backToBoardList}},[t._v("返回")]),e("img",{attrs:{src:"",alt:"",id:"boardImg"}}),e("div",{staticClass:"download",on:{click:t.downImg}},[t._v("打包下载")])])]):t._e()]):t._e()],2)},s=[function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#banner"}},[t._v("首页")])])},function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#baseInfo"}},[t._v("基本信息")])])},function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#about"}},[t._v("关于本店")])])},function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#hotel"}},[t._v("设置模块")])])}],a=(i(7658),i(4730)),r=i.n(a),l=i(6154),c=i.n(l),d=function(){var t=this;t._self._c;return t._m(0)},u=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"section banner-img",attrs:{id:"banner"}},[e("img",{attrs:{src:"https://fp.yangcong345.com/middle/1.0.0/asset/banner.png",alt:""}})])}],p={name:"Banner",data(){return{}},methods:{}},m=p,h=i(1001),g=(0,h.Z)(m,d,u,!1,null,null,null),v=g.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section big-section",attrs:{id:"baseInfo"}},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.hotelName,expression:"options.hotelName"}],staticClass:"input-info",attrs:{type:"text",maxlength:"34"},domProps:{value:t.options.hotelName},on:{input:function(e){e.target.composing||t.$set(t.options,"hotelName",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.hotelAddress,expression:"options.hotelAddress"}],staticClass:"input-info",attrs:{maxlength:"50",type:"text"},domProps:{value:t.options.hotelAddress},on:{input:function(e){e.target.composing||t.$set(t.options,"hotelAddress",e.target.value)}}})]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")])]),t._m(2)])])},x=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、酒店名称"),e("span",[t._v("（字数最多34个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、酒店地址"),e("span",[t._v("（字数最多50个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"baseInfoImg",src:"",alt:""}})])}],y=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[t._v(t._s(t.message))])])},_=[],b={data(){return{visible:!1,message:""}}},w=b,C=(0,h.Z)(w,y,_,!1,null,"1badacd6",null),S=C.exports;document.createElement("div");var I={name:"BaseInfo",data(){return{saveStatus:!1,options:{hotelName:"",hotelAddress:""}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1165,quality:1,ratio:2,elements:[{type:"img",x:0,y:0,width:750,height:1165,radius:0,autoHeight:!1,content:"https://fp.yangcong345.com/middle/1.0.0/asset/baseInfo.png"},{type:"text",x:68,y:930,width:608,autoHeight:!0,lineHeight:3,letterSpacing:"1px",fontFamily:'"PingFang SC","sans-serif"',content:[{fontSize:30,bold:800,color:"#fff",content:this.options.hotelName+"\n"},{content:this.options.hotelAddress,color:"#fff",fontSize:26}]}]};var e=document.getElementById("baseInfoImg");json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e])return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToDownLoad",{id:"baseInfoImg",options:this.options,name:"酒店基本信息"}),this.$toast("保存成功"),this.saveStatus=!0)}}},H=I,$=(0,h.Z)(H,f,x,!1,null,null,null),B=$.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section big-section",attrs:{id:"about"}},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.point,expression:"options.point"}],staticClass:"input-info",attrs:{type:"text",maxlength:"52"},domProps:{value:t.options.point},on:{blur:function(e){return t.onInputBlur("point")},input:function(e){e.target.composing||t.$set(t.options,"point",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"180",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(2),e("div",{staticClass:"upload-file custom-btn btn-4"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip"},[t._v("点击上传图片")])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")])]),t._m(3)])])},T=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、一句话介绍酒店亮点"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、酒店介绍"),e("span",[t._v("（字数限制50-180个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"aboutImg",src:"",alt:""}})])}],A={name:"about",data(){return{saveStatus:!1,options:{point:"",des:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1150,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1150,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/about.png"},{type:"text",x:68,y:148,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.point},{type:"img",x:67.5,y:342,width:615,height:461.25,content:this.options.img_url},{type:"text",x:68,y:830,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.des}]};var e=document.getElementById("aboutImg");json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},onInputBlur(t){switch(t){case"point":this.options.point.length<10&&this.$toast("酒店亮点至少要10个字");break;case"des":this.options.des.length<50&&this.$toast("酒店介绍至少要50个字");break}},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>3)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.options.img_url=t.target.result;var i=document.querySelector(".tip");i.textContent=e.name},i.readAsDataURL(e)},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<50||t["point"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToDownLoad",{id:"aboutImg",options:this.options}),this.$toast("保存成功"),this.saveStatus=!0)}}},F=A,z=(0,h.Z)(F,k,T,!1,null,null,null),P=z.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.name,expression:"options.name"}],staticClass:"input-info",attrs:{type:"text",maxlength:"12"},domProps:{value:t.options.name},on:{input:function(e){e.target.composing||t.$set(t.options,"name",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"52",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.time,expression:"options.time"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.time},on:{input:function(e){e.target.composing||t.$set(t.options,"time",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.address,expression:"options.address"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.address},on:{input:function(e){e.target.composing||t.$set(t.options,"address",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(4),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.other,expression:"options.other"}],staticClass:"input-info",attrs:{maxlength:"36",type:"text"},domProps:{value:t.options.other},on:{input:function(e){e.target.composing||t.$set(t.options,"other",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(5),e("div",{staticClass:"upload-file custom-btn btn-4"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip",attrs:{id:"hotel-tip"}},[t._v("点击上传图片")])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")]),"hotel"!==t.id?e("button",{staticClass:"custom-btn btn-2",on:{click:t.removeSection}},[t._v(" 删除模块 ")]):t._e()]),e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"hotel-"+t.id,src:"",alt:""}})])])},N=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、服务设施名称"),e("span",[t._v("（字数限制12个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、亮点介绍"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、开放时间"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 4、位置"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 5、补充信息"),e("span",[t._v("（如是否收费、是否需要预约、前台电话等，字数最多36个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v("6、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")])])}],L={name:"Hotel",props:{id:"",itemIndex:""},data(){return{saveStatus:!1,options:{des:"",name:"",address:"",time:"",other:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1165,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1165,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/hotel.png"},{type:"text",x:68,y:148,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.des},{type:"img",x:67.5,y:342,width:615,height:461.25,content:this.options.img_url},{type:"text",x:66,y:840,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.name},{type:"text",x:130,y:967,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.time},{type:"text",x:130,y:1004,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.address},{type:"text",x:130,y:1043,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.other}]};var e=document.getElementById("hotel-"+this.id);json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>2)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.options.img_url=t.target.result;var i=document.querySelector("#hotel-tip");i.textContent=e.name},i.readAsDataURL(e)},onInputBlur(t){switch(t){case"des":this.options.des.length<10&&this.$toast("亮点介绍至少要10个字");break}},removeSection(){this.$emit("removeSection",{type:"hotel",id:this.id})},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToBoard",{id:"hotel-"+this.id,options:this.options,name:`酒店特色服务${0===this.itemIndex?"":this.itemIndex}`}),this.$toast("保存成功"),this.saveStatus=!0)}}},M=L,O=(0,h.Z)(M,j,N,!1,null,null,null),E=O.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.name,expression:"options.name"}],staticClass:"input-info",attrs:{type:"text",maxlength:"12"},domProps:{value:t.options.name},on:{input:function(e){e.target.composing||t.$set(t.options,"name",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"52",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.person,expression:"options.person"}],staticClass:"input-info",attrs:{maxlength:"12",type:"text"},domProps:{value:t.options.person},on:{input:function(e){e.target.composing||t.$set(t.options,"person",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.recommend,expression:"options.recommend"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.recommend},on:{input:function(e){e.target.composing||t.$set(t.options,"recommend",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.distance,expression:"options.distance"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.distance},on:{input:function(e){e.target.composing||t.$set(t.options,"distance",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.per,expression:"options.per"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.per},on:{input:function(e){e.target.composing||t.$set(t.options,"per",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(6),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.time,expression:"options.time"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.time},on:{input:function(e){e.target.composing||t.$set(t.options,"time",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(7),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.address,expression:"options.address"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.address},on:{input:function(e){e.target.composing||t.$set(t.options,"address",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(8),e("div",{staticClass:"upload-file custom-btn btn-4"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip",attrs:{id:"around-tip"}},[t._v("点击上传图片")])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")]),"around"!==t.id?e("button",{staticClass:"custom-btn btn-2",on:{click:t.removeSection}},[t._v(" 删除模块 ")]):t._e()]),e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"around-"+t.id,src:"",alt:""}})])])},q=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、门店/游乐场景/街道等名称"),e("span",[t._v("（字数限制12个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、亮点介绍"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、推荐人"),e("span",[t._v("（字数最多12个，例如隔壁邻居张叔、成都20年土著小李）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 4、推荐尝试"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 5、距离酒店"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 6、人均消费"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 7、营业时间"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 8、店铺地址"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 9、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")])])}],Z={name:"Around",props:{id:"",itemIndex:""},data(){return{saveStatus:!1,options:{des:"",name:"",person:"",recommend:"",distance:"",per:"",address:"",time:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1315,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1315,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/around.png"},{type:"text",x:68,y:148,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.des},{type:"text",x:66,y:357,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:'"buer"',content:"——"+this.options.person},{type:"img",x:67.5,y:442,width:616,height:461.25,content:this.options.img_url},{type:"text",x:66,y:932,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.name},{type:"text",x:180,y:1028,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.recommend},{type:"text",x:180,y:1065,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.distance},{type:"text",x:180,y:1104,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.per},{type:"text",x:180,y:1142,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.time},{type:"text",x:180,y:1181,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.address}]};var e=document.getElementById("around-"+this.id);json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>2)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.options.img_url=t.target.result;var i=document.querySelector("#around-tip");i.textContent=e.name},i.readAsDataURL(e)},onInputBlur(t){switch(t){case"des":this.options.des.length<10&&this.$toast("亮点介绍至少要10个字");break}},removeSection(){this.$emit("removeSection",{type:"around",id:this.id})},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToBoard",{id:"around-"+this.id,options:this.options,name:`周边吃喝玩乐${0===this.itemIndex?"":this.itemIndex}`}),this.$toast("保存成功"),this.saveStatus=!0)}}},R=Z,G=(0,h.Z)(R,D,q,!1,null,null,null),U=G.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkBox"},[e("div",{staticClass:"board-img-box"},[e("img",{attrs:{src:t.item.src,alt:""}}),e("div",[t._v("✓")])])])},W=[],X={props:{item:{}},name:"CheckBox",methods:{}},Y=X,K=(0,h.Z)(Y,J,W,!1,null,null,null),Q=K.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.name,expression:"options.name"}],staticClass:"input-info",attrs:{type:"text",maxlength:"12"},domProps:{value:t.options.name},on:{input:function(e){e.target.composing||t.$set(t.options,"name",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"52",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.person,expression:"options.person"}],staticClass:"input-info",attrs:{maxlength:"12",type:"text"},domProps:{value:t.options.person},on:{input:function(e){e.target.composing||t.$set(t.options,"person",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.distance,expression:"options.distance"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.distance},on:{input:function(e){e.target.composing||t.$set(t.options,"distance",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.traffic,expression:"options.traffic"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.traffic},on:{input:function(e){e.target.composing||t.$set(t.options,"traffic",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.time,expression:"options.time"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.time},on:{input:function(e){e.target.composing||t.$set(t.options,"time",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(6),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.per,expression:"options.per"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.per},on:{input:function(e){e.target.composing||t.$set(t.options,"per",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(7),e("div",{staticClass:"upload-file custom-btn btn-4"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip",attrs:{id:"signIn-tip"}},[t._v("点击上传图片")])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")]),"signIn"!==t.id?e("button",{staticClass:"custom-btn btn-2",on:{click:t.removeSection}},[t._v(" 删除模块 ")]):t._e()]),e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"signIn-"+t.id,src:"",alt:""}})])])},tt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、门店/游乐场景/街道等名称"),e("span",[t._v("（字数限制12个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、亮点介绍"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、推荐人"),e("span",[t._v("（字数最多12个，例如隔壁邻居张叔、成都20年土著小李）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 4、距离酒店"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 5、交通方式"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 6、营业时间"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 7、详细介绍"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 9、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")])])}],et={name:"SignIn",props:{id:"",itemIndex:""},data(){return{saveStatus:!1,options:{des:"",name:"",person:"",traffic:"",distance:"",per:"",time:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1415,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1415,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/signin.png"},{type:"text",x:68,y:148,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.des},{type:"text",x:66,y:357,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:'"buer"',content:"——"+this.options.person},{type:"img",x:67.5,y:420,width:615,height:461.25,content:this.options.img_url},{type:"text",x:66,y:932,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.name},{type:"text",x:180,y:1028,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.distance},{type:"text",x:180,y:1065,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.traffic},{type:"text",x:180,y:1104,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.time},{type:"text",x:180,y:1142,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.per}]};var e=document.getElementById("signIn-"+this.id);json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>2)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.options.img_url=t.target.result;var i=document.querySelector("#signIn-tip");i.textContent=e.name},i.readAsDataURL(e)},onInputBlur(t){switch(t){case"des":this.options.des.length<10&&this.$toast("亮点介绍至少要10个字");break}},removeSection(){this.$emit("removeSection",{type:"signIn",id:this.id})},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToBoard",{id:"signIn-"+this.id,options:this.options,name:`城市必打卡${0===this.itemIndex?"":this.itemIndex}`}),this.$toast("保存成功"),this.saveStatus=!0)}}},it=et,nt=(0,h.Z)(it,V,tt,!1,null,null,null),ot=nt.exports,st=i(2325),at=i.n(st);let rt=!0;var lt={name:"app",components:{Banner:v,BaseInfo:B,About:P,Hotel:E,Around:U,SignIn:ot,MyCheckBox:Q},data(){return{isfixTab:!1,hotelArr:[{id:"hotel",name:"酒店特色服务"}],aroundArr:[{id:"around",name:"周边吃喝玩乐"}],signInArr:[{id:"signIn",name:"城市必打卡"}],boardList:[],about:[],baseInfo:[],selectedBoards:[],showBoardList:!1,showDownload:!1}},mounted(){window.addEventListener("scroll",this.handleTabFix,!0)},beforeRouteLeave(t,e,i){window.removeEventListener("scroll",this.handleTabFix,!0),i()},methods:{handleTabFix(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector("#banner").clientHeight;this.isfixTab=t>e},addSection(t){if(rt){if(rt=!1,"hotel"===t){const t=Math.round(1e6*Math.random()),e=this.hotelArr.length;this.hotelArr.push({id:`hotel${t}`,name:"酒店特色服务"+e})}if("around"===t){const t=Math.round(1e6*Math.random()),e=this.aroundArr.length;this.aroundArr.push({id:`around${t}`,name:"周边吃喝玩乐"+e})}if("signIn"===t){const t=Math.round(1e6*Math.random()),e=this.signInArr.length;this.signInArr.push({id:`signIn${t}`,name:"城市必打卡"+e})}this.$toast("创建成功")}setTimeout((function(){rt=!0}),2e3)},removeSection({type:t,id:e}){const i=(t,e)=>{for(let i in t)if(t[i].id===e)return void t.splice(i,1)};"hotel"===t&&i(this.hotelArr,e),"around"===t&&i(this.aroundArr,e),"signIn"===t&&i(this.signInArr,e)},saveImgToDownLoad({id:t,options:e,name:i}){var n=document.getElementById(t);const o={id:t,options:e,src:n.getAttribute("src"),checked:!1,name:i};"aboutImg"===t?this.about=[o]:this.baseInfo=[o]},saveImgToBoard({id:t,options:e,name:i}){var n=document.getElementById(t);const o={id:t,options:e,name:i,src:n.getAttribute("src"),checked:!1},s=this.boardList.some((t=>t.id===o.id));s?this.boardList.map((t=>{t.id===o.id&&(t.src=o.src)})):this.boardList=[...this.boardList,o]},createBoardList(){0!==this.about.length?0!==this.baseInfo.length?this.aroundArr.length+this.signInArr.length+this.hotelArr.length===this.boardList.length?this.showBoardList=!0:this.$toast("注意：有模块尚未保存完毕"):this.$toast("注意：基本信息模块未保存"):this.$toast("注意：关于本店模块未保存")},makeBoard(){if(this.showDownload=!0,this.selectedBoards.length<3)return void this.$toast("必须要选择三个哦～");let t=[];for(var e of this.selectedBoards){const i=this.boardList.filter((t=>-1!=t.id.indexOf("hotel")&&t.id===e))[0],n=this.boardList.filter((t=>-1!=t.id.indexOf("around")&&t.id===e))[0],o=this.boardList.filter((t=>-1!=t.id.indexOf("signIn")&&t.id===e))[0];if(i){const e={width:1420,height:455,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1420,height:455,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/hotelBoard.jpg"},{type:"text",x:625,y:128,width:600,autoHeight:!0,lineHeight:1.4,letterSpacing:"1px",fontSize:45,bold:800,color:"#333",fontFamily:'"buer"',content:i.options.des},{type:"img",x:94,y:207,width:143,height:107,content:i.options.img_url},{type:"text",x:94,y:150,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:i.options.name},{type:"text",x:135,y:389,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:i.options.other},{type:"text",x:135,y:364,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:i.options.address},{type:"text",x:135,y:340,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:i.options.time}]};at()(e,(e=>{t.push(e)}),(t=>console.error(t)))}if(n){const e={width:1420,height:455,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1420,height:455,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/aroundBoard.jpg"},{type:"text",x:625,y:128,width:600,autoHeight:!0,lineHeight:1.4,letterSpacing:"1px",fontSize:45,bold:800,color:"#333",fontFamily:'"buer"',content:n.options.des},{type:"text",x:650,y:361,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:"buer-b",content:"——"+n.options.person},{type:"img",x:94,y:207,width:143,height:107,content:n.options.img_url},{type:"text",x:94,y:150,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:n.options.name},{type:"text",x:170,y:341,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.distance},{type:"text",x:170,y:365,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.per},{type:"text",x:170,y:316,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.recommend},{type:"text",x:170,y:388,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.time}]};at()(e,(e=>{t.push(e)}),(t=>console.error(t)))}if(o){const e={width:1420,height:455,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1420,height:455,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/signInBoard.jpg"},{type:"text",x:625,y:128,width:600,autoHeight:!0,lineHeight:1.4,letterSpacing:"1px",fontSize:45,bold:800,color:"#333",fontFamily:'"buer"',content:o.options.des},{type:"text",x:650,y:361,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:"buer-b",content:"——"+o.options.person},{type:"img",x:94,y:207,width:143,height:107,content:o.options.img_url},{type:"text",x:94,y:150,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:o.options.name},{type:"text",x:170,y:316,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:o.options.distance},{type:"text",x:170,y:341,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:o.options.traffic},{type:"text",x:170,y:365,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:o.options.time}]};at()(e,(e=>{t.push(e)}),(t=>console.error(t)))}}setTimeout((()=>{const e={width:1701,height:2551,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1701,height:2551,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/asset/board-bg.jpg"},{type:"text",x:0,y:560,width:1701,autoHeight:!0,letterSpacing:"1px",textAlign:"center",fontSize:36,color:"#333",fontFamily:'"buer-b"',content:this.baseInfo[0].options.hotelName},{type:"img",x:141,y:650,width:1420,height:455,radius:0,content:t[0]},{type:"img",x:141,y:1167,width:1420,height:455,radius:0,content:t[1]},{type:"img",x:141,y:1684,width:1420,height:455,radius:0,content:t[2]}]};var i=document.getElementById("boardImg");at()(e,(t=>{i.src=t,this.boardBgImg=[{name:"酒店展板",src:t,id:"board-big-img"}]}),(t=>console.error(t)))}),2e3)},backToBoardList(){this.showDownload=!1},close(){this.showDownload=!1,this.showBoardList=!1},changeChecked(t){const e=this.selectedBoards.some((e=>e===t.id)),i=this.selectedBoards.some((t=>-1!=t.indexOf("hotel")));3!==this.selectedBoards.length||e?i&&-1!=t.id.indexOf("hotel")?this.$toast("酒店特色服务最多只能选择一个模块哦"):(this.boardList.map((e=>{if(e.id===t.id)return e.checked=!e.checked})),this.selectedBoards=e?this.selectedBoards.filter((e=>e!==t.id)):[...this.selectedBoards,t.id]):this.$toast("已经选择三个展板，请取消后再次选择")},getImgArrayBuffer(t){return new Promise(((e,i)=>{let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status?e(this.response):i(this.status)},n.send()}))},downImg(){let t=this,e=new(r()),i={},n=[];const o=this.boardList.concat(this.about).concat(this.baseInfo).concat(this.boardBgImg);for(let s of o){const o=t.getImgArrayBuffer(s.src).then((t=>{e.file(s.name+".png",t,{binary:!0}),i[s.id]=t}));n.push(o)}Promise.all(n).then((()=>{e.generateAsync({type:"blob"}).then((t=>{c().saveAs(t,this.baseInfo[0].options.hotelName)}))})).catch((()=>{console.error("文件压缩失败")}))}}},ct=lt,dt=(0,h.Z)(ct,o,s,!1,null,null,null),ut=dt.exports;const pt={install:function(t){const e=t.extend(S),i=new e;i.$mount(document.createElement("div")),document.body.appendChild(i.$el),t.prototype.$toast=(t,e=1500)=>{i.message=t,i.visible=!0,setTimeout((()=>{i.visible=!1}),e)}}};n.ZP.use(pt),n.ZP.config.productionTip=!1,new n.ZP({render:t=>t(ut)}).$mount("#app")},2325:function(t,e,i){var n,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i(7658),function(a,r){"object"===s(e)?t.exports=r():(n=r,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o))}(0,(function(){"use strict";return Object.assign||(Object.assign=function(t){null==t&&(t={}),t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),function(t,e,i,n){var o=n||document.createElement("canvas"),s=Object.assign({},{width:750,height:200,output:"jpeg",quality:.6,lineHeight:1.5,color:"#263238",textAlign:"left",fontSize:14,fontFamily:'"PingFang SC",tahoma,arial,"helvetica neue","hiragino sans gb","microsoft yahei",sans-serif',autoHeight:!1,ratio:2,bgColor:"rgba(255, 255, 255, 0)",elements:[]},t),a=o.getContext("2d"),r=s.ratio,l=function(t){return t*r},c=0,d=0,u=0,p=0,m=0;s.width*=r,s.height*=r,o.width=s.width,o.height=s.height,a.fillStyle=s.bgColor,a.fillRect(0,0,s.width,s.height),a.textBaseline="middle";var h=function(t){return"center"===t},g=function(t){return"right"===t||"end"===t},v=function(t){return a.measureText(t).width},f=function(t,e,i){var n=t+"px "+e;return i&&(n=i+" "+n),n},x=function(t,e,i,n,o,r){var l=function(t,e,i){for(var n=t.length,o="",s=[],a=0;a<n;a++){var r="\n"===t[a];v(o)<e&&!r?o+=t[a]:(s.push(o),o=r?"":t[a])}return o&&s.push(o),s}(t,n),d=(l.length+1)*r;s.autoHeight&&d>o&&(c+=o-d),l.forEach((function(t,n){return a.fillText(t,e,i+n*r)}))},y=function(){++d===p&&function(){if(s.output){var t=s.width,i=s.height;s.autoHeight&&(i+=c);var n=a.getImageData(0,0,t,i);o.width=t,o.height=i,a.clearRect(0,0,t,s.height),a.putImageData(n,0,0);var r=o.toDataURL("image/"+s.output,s.quality);setTimeout((function(){e&&e(r)}),0)}else e&&e(null)}()},_=function(t){return"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?t+6:t},b=function(t){var e=l(t.x||0),i=l(t.width||0),n=l(t.y||0),o=l(t.height||0);0!==c&&(n+=c);var r=t.imgObj,d=t.textAlign;if(a.save(),t.autoHeight){var u=r.height*(i/r.width);s.autoHeight&&(c+=u-o),o=u}h(d)?function(t,e,i,n,o){var r=e+(s.width-n)/2;a.drawImage(t,r,i,n,o)}(r,e,n,i,o):g(d)?function(t,e,i,n,o){var r=e+s.width-n;a.drawImage(t,r,i,n,o)}(r,e,n,i,o):a.drawImage(r,e,n,i,o),a.restore(),t.radius>0&&function(t,e,i,n,o){a.save(),a.beginPath(),a.moveTo(t+o,e),a.arcTo(t+i,e,t+i,e+o,o),a.arcTo(t+i,e+n,t+i-o,e+n,o),a.arcTo(t,e+n,t,e+n-o,o),a.arcTo(t,e,t+o,e,o),a.closePath(),a.clip()}(e,n,i,o,t.radius),y()},w=function(t){var e=t.fontfamily||s.fontFamily,i=l(t.fontSize||s.fontSize),n=t.textAlign||s.textAlign,o=l(t.width)||s.width,r=l(t.height||0),d=t.color||s.color,u=t.lineHeight||s.lineHeight,p=f(i,e,t.bold),m=t.content,b=l(t.x||0),w=l(t.y||0),C=u*i;switch(n){case"center":b+=o/2||s.width/2;break;case"right":case"end":b+=o||s.width}if(0!==c&&(w+=c),t.maxWidth&&(m=function(t,e){for(var i=t.length,n=0;n<i;n++)if(v(t.substr(0,n+1))>e)return"".concat(t.substr(0,n),"...");return t}(m,t.maxWidth)),w+=C/2,a.beginPath(),a.fillStyle=d,a.font=p,a.textAlign=n,"string"!=typeof m)!function(t,e,i,n,o,r,d,u,p){if(t&&t.length){var m=e,x=i,y=0,b=[],w=a.textAlign,C=[],S=0;t.forEach((function(t){var e=t.content,i=l(t.fontSize)||d,h=t.fontfamily||u,g=f(i,h,t.bold);a.font=g;for(var _=0;_<e.length;_++){var w="\n"===e[_],I=v(e[_]);if((y+=I)>n&&p||w){x+=o,s.autoHeight&&(c+=o);var H=w?0:I;b.push(y-H),y=H,S+=1}C[S]||(C[S]=[]),C[S].push({content:e[_],x:m+y-I,y:x,color:t.color||r,font:g})}})),y&&b.push(y),a.textAlign="left",C.forEach((function(t,e){var i=b[e];t.forEach((function(t){a.fillStyle=t.color,a.font=t.font;var e=t.x;h(w)&&(e-=i/2),g(w)&&(e-=i),a.fillText(t.content,e,_(t.y))}))}))}}(m,b,_(w),o,C,d,i,e,t.autoHeight);else if(t.autoHeight)x(m,b,w,o,w+r,C);else if(t.rotate){var S=s.width-(t.width||0);a.translate(S/2,w),a.rotate(Math.PI/180*t.rotate),a.fillText(m,0,0),a.fill(),a.setTransform(1,0,0,1,0,0)}else a.fillText(m,b,w),a.fill();a.closePath(),y()},C=s.elements;if(C&&C.length){p=C.length;var S=C.map((function(t){if("img"===t.type)return m++,t}));!function(t,e){0!==m?t.forEach((function(t){if(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){t.imgObj=n,++u===m&&e&&e()},n.onerror=function(t){return i&&i(t),!1},n.src=t.content}})):e&&e()}(S,(function(){C.forEach((function(t,e){"img"===t.type?(t.imgObj=S[e].imgObj,b(t)):w(t)}))}))}}}))}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,s){if(!n){var a=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],s=t[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[l])}))?n.splice(l--,1):(r=!1,s<a&&(a=s));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[n,o,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(l)var d=l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(d)},n=self["webpackChunkvuepages"]=self["webpackChunkvuepages"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(7447)}));n=i.O(n)})();
//# sourceMappingURL=app.613cface.js.map