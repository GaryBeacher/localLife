(function(){var t={4289:function(t,e,i){"use strict";var n=i(6369),o=function(){var t=this,e=t._self._c;return e("div",[t.showGuide?e("div",{staticClass:"guide-mask"},[t.showGuide?e("div",{staticClass:"guide-box"},[e("div",{staticClass:"close-button",on:{click:t.closeGuide}},[t._v("X")]),e("h3",[t._v("使用步骤")]),t._m(0)]):t._e()]):t._e(),t.isfixTab?e("div",{staticClass:"left-menu"},[e("img",{attrs:{src:"https://fp.yangcong345.com/middle/1.0.0/WeChatd602d8b4f086c6aa98435c5392a30bed.png",alt:""}}),e("div",{on:{click:t.closeGuide}},[t._v("使用步骤")]),t._l(t.hotelArr,(function(i){return e("a",{key:i.id+123,staticClass:"action",attrs:{href:"#"+i.id}},[t._v(" "+t._s(i.name)+" ")])})),t._l(t.aroundArr,(function(i){return e("a",{key:i.id+123,staticClass:"action",attrs:{href:"#"+i.id}},[t._v(" "+t._s(i.name)+" ")])})),t._l(t.signInArr,(function(i){return e("a",{key:i.id+123,staticClass:"action",attrs:{href:"#"+i.id}},[t._v(" "+t._s(i.name)+" ")])}))],2):t._e(),e("Banner"),t.isfixTab?e("ul",{staticClass:"menu-box"}):t._e(),e("ul",{class:{"menu-box":!0,fixedNavbar:t.isfixTab},attrs:{id:"menu"}},[t._m(1),t._m(2),t._m(3),t._m(4)]),e("h1",[t._v("基本信息")]),e("BaseInfo",{on:{saveImgToDownLoad:t.saveImgToDownLoad}}),e("hr",{attrs:{align:"center",width:"100%",color:"#ccc",SIZE:"1"}}),e("h1",[t._v("关于本店")]),e("About",{attrs:{cropedImg:t.cropedImg},on:{changeCropModel:t.changeCropModel,saveImgToDownLoad:t.saveImgToDownLoad}}),e("hr",{attrs:{align:"center",width:"100%",color:"#ccc",SIZE:"1"}}),e("h1",{staticClass:"module-title"},[t._v(" 酒店特色服务 "),e("div",{staticClass:"add-new",on:{click:function(e){return t.addSection("hotel")}}},[t._v("新增模块")])]),t._l(t.hotelArr,(function(i,n){return[e("h2",{key:i.id+"hotel"},[t._v(t._s(i.name))]),e("div",{key:i.id+"hotel1",staticClass:"section",attrs:{id:i.id}},[e("Hotel",{attrs:{id:i.id,itemIndex:n,name:i.name,cropedImg:t.cropedImg},on:{removeSection:t.removeSection,saveImgToBoard:t.saveImgToBoard,changeCropModel:t.changeCropModel}})],1),e("hr",{key:i.id+"hotel2",attrs:{align:"center",width:"100%",color:"#ccc",SIZE:"1"}})]})),e("h1",{staticClass:"module-title"},[t._v(" 周边吃喝玩乐 "),e("div",{staticClass:"add-new",on:{click:function(e){return t.addSection("around")}}},[t._v("新增模块")])]),t._l(t.aroundArr,(function(i,n){return[e("h2",{key:i.id+"around"},[t._v(t._s(i.name))]),e("div",{key:i.id+"around1",staticClass:"section",attrs:{id:i.id}},[e("Around",{attrs:{id:i.id,itemIndex:n,name:i.name,cropedImg:t.cropedImg},on:{removeSection:t.removeSection,saveImgToBoard:t.saveImgToBoard,changeCropModel:t.changeCropModel}})],1),e("hr",{key:i.id+"around2",attrs:{align:"center",width:"100%",color:"#ccc",SIZE:"1"}})]})),e("h1",{staticClass:"module-title"},[t._v(" 城市必打卡 "),e("div",{staticClass:"add-new",on:{click:function(e){return t.addSection("signIn")}}},[t._v("新增模块")])]),t._l(t.signInArr,(function(i,n){return[e("h2",{key:i.id+"signIn"},[t._v(t._s(i.name))]),e("div",{key:i.id+"signIn2",staticClass:"section",attrs:{id:i.id}},[e("SignIn",{attrs:{id:i.id,itemIndex:n,name:i.name,cropedImg:t.cropedImg},on:{removeSection:t.removeSection,saveImgToBoard:t.saveImgToBoard,changeCropModel:t.changeCropModel}})],1),e("hr",{key:i.id+"signIn3",attrs:{align:"center",width:"100%",color:"#ccc",SIZE:"1"}})]})),e("div",{staticClass:"submit-cont"},[e("button",{staticClass:"custom-btn btn-4 submit",on:{click:t.createBoardList}},[t._v(" 下一步 ")])]),t.showBoardList?e("div",{staticClass:"section board-list"},[e("div",{staticClass:"mask",on:{click:t.close}}),t.showDownload?t._e():e("div",{staticClass:"display-board"},[e("div",{staticClass:"close-button",on:{click:t.close}},[t._v("X")]),e("div",{staticClass:"topic-title"},[t._v(" 点击图片选择3个模块添加到展板，请注意：“酒店特色服务”只能选择一个模块哦 ")]),e("div",{staticClass:"board-list-box"},t._l(t.boardList,(function(i){return e("div",{key:i.id,class:{"swiper-slide":!0,checked:i.checked||!1},on:{click:function(e){return t.changeChecked(i)}}},[e("MyCheckBox",{attrs:{item:i}},[t._v(t._s(i.id))])],1)})),0),e("div",{staticClass:"make-board",on:{click:t.makeBoard}},[t._v("生成展板")])]),t.showDownload?e("div",{staticClass:"display-board"},[t.loading?e("div",{staticClass:"loading"},[e("hr"),e("hr"),e("hr"),e("hr")]):t._e(),e("div",{staticClass:"board-box"},[e("div",{staticClass:"back-board-list",on:{click:t.backToBoardList}},[t._v("返回")]),e("img",{attrs:{src:"",alt:"",id:"boardImg"}}),t.loading?t._e():e("button",{staticClass:"custom-btn btn-11 download",on:{click:t.downImg}},[t._v(" 打包下载 ")])])]):t._e()]):t._e(),t.cropImgStatus?e("CropImg",{attrs:{cropProps:t.cropProps},on:{changeCropModel:t.changeCropModel,setCropImg:t.setCropImg}}):t._e()],2)},s=[function(){var t=this,e=t._self._c;return e("pre",[t._v("        1、当前页面所有模块从上到下每个模块都必须填写。\n        2、除了“基本信息“和“关于本店“外，"),e("i",[t._v("酒店特色服务")]),t._v(" ，"),e("i",[t._v("周边吃喝玩乐")]),t._v(" ，"),e("i",[t._v("城市必打卡")]),t._v("三个模块都可以点击各自头部旁边的按钮来新增一个同类型的模块。\n        3、新增的模块可以在当前模块的底部使用删除模块按钮删除当前模块。\n        4、每个模块中所有的事项都需要按照标题旁边的规则仔细填写，如果当前模块保存时出现 "),e("i",[t._v("每一项都需要按规则填写哦")]),t._v("的提示时，需要检查是否有选项未按照规则填写。\n        5、每个模块在填写完成后都需要"),e("i",[t._v("点击保存按钮")]),t._v("才能保证当前模块在最后的展板列表中出现。\n        6、每个模块在保存后还是可以再修改，修改完毕后需要再次点击保存才能更新。\n        7、选择展板的时候要注意"),e("i",[t._v("酒店特色服务")]),t._v(" 模块最多只可以选择一个。\n        8、必须选择三个展板，才可以生成展板预览图。 \n      ")])},function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#banner"}},[t._v("首页")])])},function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#baseInfo"}},[t._v("基本信息")])])},function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#about"}},[t._v("关于本店")])])},function(){var t=this,e=t._self._c;return e("li",[e("a",{attrs:{href:"#hotel"}},[t._v("设置模块")])])}],a=(i(7658),i(4730)),r=i.n(a),l=i(6154),c=i.n(l),d=function(){var t=this;t._self._c;return t._m(0)},p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"section banner-img",attrs:{id:"banner"}},[e("img",{attrs:{src:"https://fp.yangcong345.com/middle/1.0.0/asset/banner.png",alt:""}})])}],u={name:"Banner",data(){return{}},methods:{}},h=u,m=i(1001),g=(0,m.Z)(h,d,p,!1,null,null,null),v=g.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section big-section",attrs:{id:"baseInfo"}},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.hotelName,expression:"options.hotelName"}],staticClass:"input-info",attrs:{type:"text",maxlength:"34"},domProps:{value:t.options.hotelName},on:{input:function(e){e.target.composing||t.$set(t.options,"hotelName",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.hotelAddress,expression:"options.hotelAddress"}],staticClass:"input-info",attrs:{maxlength:"50",type:"text"},domProps:{value:t.options.hotelAddress},on:{input:function(e){e.target.composing||t.$set(t.options,"hotelAddress",e.target.value)}}})]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")])]),t._m(2)])])},x=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、酒店名称"),e("span",[t._v("（字数最多34个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、酒店地址"),e("span",[t._v("（字数最多50个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"baseInfoImg",src:"",alt:""}})])}],_=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[t._v(t._s(t.message))])])},y=[],b={data(){return{visible:!1,message:""}}},w=b,C=(0,m.Z)(w,_,y,!1,null,"5c201465",null),I=C.exports;document.createElement("div");var S={name:"BaseInfo",data(){return{saveStatus:!1,options:{hotelName:"",hotelAddress:""}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1165,quality:1,ratio:2,elements:[{type:"img",x:0,y:0,width:750,height:1165,radius:0,autoHeight:!1,content:"https://fp.yangcong345.com/middle/1.0.0/base_new.png"},{type:"text",x:68,y:930,width:608,autoHeight:!0,lineHeight:3,letterSpacing:"1px",fontFamily:'"PingFang SC","sans-serif"',content:[{fontSize:30,bold:800,color:"#fff",content:this.options.hotelName+"\n"},{content:this.options.hotelAddress,color:"#fff",fontSize:26}]}]};var e=document.getElementById("baseInfoImg");json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e])return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToDownLoad",{id:"baseInfoImg",options:this.options,name:"酒店基本信息"}),this.$toast("保存成功"),this.saveStatus=!0)}}},H=S,$=(0,m.Z)(H,f,x,!1,null,null,null),B=$.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section big-section",attrs:{id:"about"}},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.point,expression:"options.point"}],staticClass:"input-info",attrs:{type:"text",maxlength:"52"},domProps:{value:t.options.point},on:{blur:function(e){return t.onInputBlur("point")},input:function(e){e.target.composing||t.$set(t.options,"point",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"180",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")]),e("div",{staticClass:"upload-file"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip"},[t._v("点击上传图片")])])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")])]),t._m(2)])])},T=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、一句话介绍酒店亮点"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、酒店介绍"),e("span",[t._v("（字数限制50-180个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"aboutImg",src:"",alt:""}})])}],A={name:"about",props:{cropedImg:{}},data(){return{saveStatus:!1,options:{point:"",des:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}},cropedImg:{deep:!0,handler(){"about"===this.cropedImg.id&&(this.options.img_url=this.cropedImg.img)}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1265,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1265,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/about_new.png"},{type:"text",x:68,y:244,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.point},{type:"img",x:67.5,y:471,width:615,height:461.25,content:this.options.img_url},{type:"text",x:68,y:959,width:608,height:280,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.des}]};var e=document.getElementById("aboutImg");json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},onInputBlur(t){switch(t){case"point":this.options.point.length<10&&this.$toast("酒店亮点至少要10个字");break;case"des":this.options.des.length<50&&this.$toast("酒店介绍至少要50个字");break}},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>3)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.$emit("changeCropModel",{status:!0,img:t.target.result,id:"about"})},i.readAsDataURL(e)},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<50||t["point"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToDownLoad",{id:"aboutImg",options:this.options,name:"关于本店"}),this.$toast("保存成功"),this.saveStatus=!0)}}},z=A,F=(0,m.Z)(z,k,T,!1,null,null,null),P=F.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.name,expression:"options.name"}],staticClass:"input-info",attrs:{type:"text",maxlength:"12"},domProps:{value:t.options.name},on:{input:function(e){e.target.composing||t.$set(t.options,"name",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"52",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.time,expression:"options.time"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.time},on:{input:function(e){e.target.composing||t.$set(t.options,"time",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.address,expression:"options.address"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.address},on:{input:function(e){e.target.composing||t.$set(t.options,"address",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(4),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.other,expression:"options.other"}],staticClass:"input-info",attrs:{maxlength:"36",type:"text"},domProps:{value:t.options.other},on:{input:function(e){e.target.composing||t.$set(t.options,"other",e.target.value)}}})]),e("div",{staticClass:"input-item"},[e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v("6、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")]),e("div",{staticClass:"upload-file"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip",attrs:{id:"hotel-tip"+t.id}},[t._v("点击上传图片")])])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")]),"hotel"!==t.id?e("button",{staticClass:"custom-btn btn-2",on:{click:t.removeSection}},[t._v(" 删除模块 ")]):t._e()]),e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"hotel-"+t.id,src:"",alt:""}})])])},L=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、服务设施名称"),e("span",[t._v("（字数限制12个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、亮点介绍"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、开放时间"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 4、位置"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 5、补充信息"),e("span",[t._v("（如是否收费、是否需要预约、前台电话等，字数最多36个）")])])}],N={name:"Hotel",props:{id:"",itemIndex:"",cropedImg:{}},data(){return{saveStatus:!1,options:{des:"",name:"",address:"",time:"",other:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}},cropedImg:{deep:!0,handler(){this.cropedImg.id===this.id&&(this.options.img_url=this.cropedImg.img)}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1265,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1265,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/hotel_new.png"},{type:"text",x:68,y:248,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.des},{type:"img",x:67.5,y:452,width:615,height:461.25,content:this.options.img_url},{type:"text",x:66,y:950,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.name},{type:"text",x:130,y:1067,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.time},{type:"text",x:130,y:1104,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.address},{type:"text",x:130,y:1143,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.other}]};var e=document.getElementById("hotel-"+this.id);json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>2)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.$emit("changeCropModel",{status:!0,img:t.target.result,id:this.id})},i.readAsDataURL(e)},onInputBlur(t){switch(t){case"des":this.options.des.length<10&&this.$toast("亮点介绍至少要10个字");break}},removeSection(){this.$emit("removeSection",{type:"hotel",id:this.id})},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToBoard",{id:"hotel-"+this.id,options:this.options,name:`酒店特色服务${0===this.itemIndex?"":this.itemIndex}`}),this.$toast("保存成功"),this.saveStatus=!0)}}},M=N,O=(0,m.Z)(M,j,L,!1,null,null,null),E=O.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.name,expression:"options.name"}],staticClass:"input-info",attrs:{type:"text",maxlength:"12"},domProps:{value:t.options.name},on:{input:function(e){e.target.composing||t.$set(t.options,"name",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"52",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.person,expression:"options.person"}],staticClass:"input-info",attrs:{maxlength:"12",type:"text"},domProps:{value:t.options.person},on:{input:function(e){e.target.composing||t.$set(t.options,"person",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.recommend,expression:"options.recommend"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.recommend},on:{input:function(e){e.target.composing||t.$set(t.options,"recommend",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.distance,expression:"options.distance"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.distance},on:{input:function(e){e.target.composing||t.$set(t.options,"distance",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.per,expression:"options.per"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.per},on:{input:function(e){e.target.composing||t.$set(t.options,"per",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(6),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.time,expression:"options.time"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.time},on:{input:function(e){e.target.composing||t.$set(t.options,"time",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(7),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.address,expression:"options.address"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.address},on:{input:function(e){e.target.composing||t.$set(t.options,"address",e.target.value)}}})]),e("div",{staticClass:"input-item"},[e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 9、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")]),e("div",{staticClass:"upload-file"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip",attrs:{id:"around-tip"+t.id}},[t._v("点击上传图片")])])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")]),"around"!==t.id?e("button",{staticClass:"custom-btn btn-2",on:{click:t.removeSection}},[t._v(" 删除模块 ")]):t._e()]),e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"around-"+t.id,src:"",alt:""}})])])},R=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、门店/游乐场景/街道等名称"),e("span",[t._v("（字数限制12个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、亮点介绍"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、推荐人"),e("span",[t._v("（字数最多12个，例如隔壁邻居张叔、成都20年土著小李）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 4、推荐尝试"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 5、距离酒店"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 6、人均消费"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 7、营业时间"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 8、店铺地址"),e("span",[t._v("（字数最多18个）")])])}],Z={name:"Around",props:{id:"",itemIndex:"",cropedImg:{}},data(){return{saveStatus:!1,options:{des:"",name:"",person:"",recommend:"",distance:"",per:"",address:"",time:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}},cropedImg:{deep:!0,handler(){this.cropedImg.id===this.id&&(this.options.img_url=this.cropedImg.img)}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1415,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1415,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/around_new.png"},{type:"text",x:68,y:248,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.des},{type:"text",x:66,y:457,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:'"buer"',content:"——"+this.options.person},{type:"img",x:67.5,y:532,width:616,height:461.25,content:this.options.img_url},{type:"text",x:66,y:1032,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.name},{type:"text",x:180,y:1128,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.recommend},{type:"text",x:180,y:1165,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.distance},{type:"text",x:180,y:1204,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.per},{type:"text",x:180,y:1242,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.time},{type:"text",x:180,y:1281,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.address}]};var e=document.getElementById("around-"+this.id);json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>2)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.$emit("changeCropModel",{status:!0,img:t.target.result,id:this.id})},i.readAsDataURL(e)},onInputBlur(t){switch(t){case"des":this.options.des.length<10&&this.$toast("亮点介绍至少要10个字");break}},removeSection(){this.$emit("removeSection",{type:"around",id:this.id})},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToBoard",{id:"around-"+this.id,options:this.options,name:`周边吃喝玩乐${0===this.itemIndex?"":this.itemIndex}`}),this.$toast("保存成功"),this.saveStatus=!0)}}},G=Z,q=(0,m.Z)(G,D,R,!1,null,null,null),U=q.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkBox"},[e("div",{staticClass:"board-img-box"},[e("img",{attrs:{src:t.item.src,alt:""}}),e("div",[t._v("✓")])])])},W=[],X={props:{item:{}},name:"CheckBox",methods:{}},V=X,Y=(0,m.Z)(V,J,W,!1,null,null,null),K=Y.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-content"},[e("div",{staticClass:"form-list"},[e("div",{staticClass:"input-item"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.name,expression:"options.name"}],staticClass:"input-info",attrs:{type:"text",maxlength:"12"},domProps:{value:t.options.name},on:{input:function(e){e.target.composing||t.$set(t.options,"name",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.des,expression:"options.des"}],staticClass:"input-info",attrs:{maxlength:"52",type:"text"},domProps:{value:t.options.des},on:{blur:function(e){return t.onInputBlur("des")},input:function(e){e.target.composing||t.$set(t.options,"des",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.person,expression:"options.person"}],staticClass:"input-info",attrs:{maxlength:"12",type:"text"},domProps:{value:t.options.person},on:{input:function(e){e.target.composing||t.$set(t.options,"person",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.distance,expression:"options.distance"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.distance},on:{input:function(e){e.target.composing||t.$set(t.options,"distance",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.traffic,expression:"options.traffic"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.traffic},on:{input:function(e){e.target.composing||t.$set(t.options,"traffic",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.time,expression:"options.time"}],staticClass:"input-info",attrs:{maxlength:"18",type:"text"},domProps:{value:t.options.time},on:{input:function(e){e.target.composing||t.$set(t.options,"time",e.target.value)}}})]),e("div",{staticClass:"input-item"},[t._m(6),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options.per,expression:"options.per"}],staticClass:"input-info",attrs:{maxlength:"88",type:"text"},domProps:{value:t.options.per},on:{blur:function(e){return t.onInputBlur("per")},input:function(e){e.target.composing||t.$set(t.options,"per",e.target.value)}}})]),e("div",{staticClass:"input-item"},[e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 8、上传图片"),e("span",[t._v("（照片比例为4:3，大小限制为0.3-2M）")]),e("div",{staticClass:"upload-file"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"true"},on:{change:t.handleSuccess}}),e("span",{staticClass:"tip",attrs:{id:"signIn-tip"+t.id}},[t._v("点击上传图片")])])])]),e("button",{staticClass:"custom-btn btn-11",on:{click:t.saveImgToBoard}},[t._v(" "+t._s(t.saveStatus?"已保存":"保存")+" ")]),"signIn"!==t.id?e("button",{staticClass:"custom-btn btn-2",on:{click:t.removeSection}},[t._v(" 删除模块 ")]):t._e()]),e("div",{staticClass:"img-box"},[e("img",{staticClass:"item-img",attrs:{id:"signIn-"+t.id,src:"",alt:""}})])])},tt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 1、门店/游乐场景/街道等名称"),e("span",[t._v("（字数限制12个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 2、亮点介绍"),e("span",[t._v("（字数限制10-52个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 3、推荐人"),e("span",[t._v("（字数最多12个，例如隔壁邻居张叔、成都20年土著小李）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 4、距离酒店"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 5、交通方式"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 6、营业时间"),e("span",[t._v("（字数最多18个）")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-name"},[e("i",[t._v("*")]),t._v(" 7、详细介绍"),e("span",[t._v("（字数限制22-88个）")])])}],et={name:"SignIn",props:{id:"",itemIndex:"",cropedImg:{}},data(){return{saveStatus:!1,options:{des:"",name:"",person:"",traffic:"",distance:"",per:"",time:"",img_url:"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"}}},watch:{options:{deep:!0,handler(){this.drawImg(),this.saveStatus=!1}},cropedImg:{deep:!0,handler(){this.cropedImg.id===this.id&&(this.options.img_url=this.cropedImg.img)}}},mounted(){this.drawImg()},methods:{drawImg(){const t={width:750,height:1515,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:750,height:1515,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/sginIn_new.png"},{type:"text",x:68,y:248,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.des},{type:"text",x:66,y:457,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:'"buer"',content:"——"+this.options.person},{type:"img",x:67.5,y:520,width:615,height:461.25,content:this.options.img_url},{type:"text",x:66,y:1032,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:this.options.name},{type:"text",x:180,y:1128,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.distance},{type:"text",x:180,y:1165,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.traffic},{type:"text",x:180,y:1204,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.time},{type:"text",x:180,y:1242,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:22,color:"#333",fontFamily:'"buer-b"',content:this.options.per}]};var e=document.getElementById("signIn-"+this.id);json2image(t,(t=>{e.src=t}),(t=>console.error(t)))},handleSuccess(t){const e=t.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(t.target.value))return this.$toast("图片类型要求：jpeg、jpg、png"),!1;if(e.size/1048576>2)return this.$toast("图片大小不超过3M"),!1;var i=new FileReader;i.onload=t=>{this.$toast("图片裁切可以通过鼠标滚轮放大缩小图片～"),this.$emit("changeCropModel",{status:!0,img:t.target.result,id:this.id})},i.readAsDataURL(e)},onInputBlur(t){switch(t){case"des":this.options.des.length<10&&this.$toast("亮点介绍至少要10个字");break;case"per":this.options.des.length<22&&this.$toast("详细介绍至少要22个字");break}},removeSection(){this.$emit("removeSection",{type:"signIn",id:this.id})},saveImgToBoard(){const t=this.options;for(var e in t)if(""===t[e]||"https://fp.yangcong345.com/middle/1.0.0/asset/blank.png"===t["img_url"]||t["des"].length<10)return void this.$toast("每一项都需要按规则填写哦");this.saveStatus?this.$toast("当前图片已经保存过了，请重新修改后重试"):(this.$emit("saveImgToBoard",{id:"signIn-"+this.id,options:this.options,name:`城市必打卡${0===this.itemIndex?"":this.itemIndex}`}),this.$toast("保存成功"),this.saveStatus=!0)}}},it=et,nt=(0,m.Z)(it,Q,tt,!1,null,null,null),ot=nt.exports,st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"model-mask"},[e("div",{staticClass:"cropperContent"},[e("vue-cropper",{ref:"cropper",attrs:{img:t.cropProps.img,outputSize:t.option.size,outputType:t.option.outputType,info:!0,full:t.option.full,canMove:t.option.canMove,canMoveBox:t.option.canMoveBox,original:t.option.original,autoCrop:t.option.autoCrop,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber,centerBox:t.option.centerBox,infoTrue:t.option.infoTrue,fixedBox:t.option.fixedBox},on:{realTime:t.realTime}}),e("div",{staticClass:"button-box"},[e("button",{staticClass:"custom-btn btn-11",on:{click:t.onSelect}},[t._v("确定")]),e("button",{staticClass:"custom-btn btn-2",on:{click:t.onBack}},[t._v("取消")])])],1)])},at=[],rt=i(3825),lt={components:{VueCropper:rt.VueCropper},props:{cropProps:{}},data(){return{option:{img:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:400,autoCropHeight:300,fixedBox:!1,fixed:!0,fixedNumber:[4,3],full:!1,canMoveBox:!0,original:!1,centerBox:!0,infoTrue:!0}}},methods:{changeScale(t){console.log("changeScale"),t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft(){console.log("rotateLeft"),this.$refs.cropper.rotateLeft()},rotateRight(){console.log("rotateRight"),this.$refs.cropper.rotateRight()},realTime(t){this.previews=t},imgLoad(t){console.log(t)},cropImage(){},onSelect(){this.$refs.cropper.getCropBlob((t=>{var e=window.URL.createObjectURL(t);this.$emit("setCropImg",{status:!1,img:e,id:this.cropProps.id})}))},onReset(t){this.target=t.target,this.option.img=t.url,this.preview=t.url},onBack(){this.$emit("changeCropModel",{status:!1,img:"",id:""})}}},ct=lt,dt=(0,m.Z)(ct,st,at,!1,null,null,null),pt=dt.exports,ut=i(2325),ht=i.n(ut);let mt=!0;var gt={name:"app",components:{CropImg:pt,Banner:v,BaseInfo:B,About:P,Hotel:E,Around:U,SignIn:ot,MyCheckBox:K},data(){return{isfixTab:!1,hotelArr:[{id:"hotel",name:"酒店特色服务"}],aroundArr:[{id:"around",name:"周边吃喝玩乐"}],signInArr:[{id:"signIn",name:"城市必打卡"}],boardList:[],about:[],baseInfo:[],selectedBoards:[],showBoardList:!1,showDownload:!1,loading:!1,cropImgStatus:!1,cropedImg:{img:"",id:""},cropProps:{img:"",id:""},showGuide:!1}},mounted(){window.addEventListener("scroll",this.handleTabFix,!0)},beforeRouteLeave(t,e,i){window.removeEventListener("scroll",this.handleTabFix,!0),i()},methods:{closeGuide(){this.showGuide=!this.showGuide},setCropImg({status:t,img:e,id:i}){this.cropedImg={img:e,id:i},this.cropImgStatus=t},changeCropModel({status:t,img:e,id:i}){this.cropProps={img:e,id:i},this.cropImgStatus=t},handleTabFix(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector("#banner").clientHeight;this.isfixTab=t>e},addSection(t){if(mt){if(mt=!1,"hotel"===t){const t=Math.round(1e6*Math.random()),e=this.hotelArr.length;this.hotelArr.push({id:`hotel${t}`,name:"酒店特色服务"+e})}if("around"===t){const t=Math.round(1e6*Math.random()),e=this.aroundArr.length;this.aroundArr.push({id:`around${t}`,name:"周边吃喝玩乐"+e})}if("signIn"===t){const t=Math.round(1e6*Math.random()),e=this.signInArr.length;this.signInArr.push({id:`signIn${t}`,name:"城市必打卡"+e})}this.$toast("创建成功")}setTimeout((function(){mt=!0}),2e3)},removeSection({type:t,id:e}){const i=(t,e)=>{for(let i in t)if(t[i].id===e)return void t.splice(i,1)};"hotel"===t&&i(this.hotelArr,e),"around"===t&&i(this.aroundArr,e),"signIn"===t&&i(this.signInArr,e)},saveImgToDownLoad({id:t,options:e,name:i}){var n=document.getElementById(t);const o={id:t,options:e,src:n.getAttribute("src"),checked:!1,name:i};"aboutImg"===t?this.about=[o]:this.baseInfo=[o]},saveImgToBoard({id:t,options:e,name:i}){var n=document.getElementById(t);const o={id:t,options:e,name:i,src:n.getAttribute("src"),checked:!1},s=this.boardList.some((t=>t.id===o.id));s?this.boardList.map((t=>{t.id===o.id&&(t.src=o.src)})):this.boardList=[...this.boardList,o]},createBoardList(){0!==this.about.length?0!==this.baseInfo.length?this.aroundArr.length+this.signInArr.length+this.hotelArr.length===this.boardList.length?this.showBoardList=!0:this.$toast("注意：有模块尚未保存完毕"):this.$toast("注意：基本信息模块未保存"):this.$toast("注意：关于本店模块未保存")},makeBoard(){if(this.showDownload=!0,this.loading=!0,this.selectedBoards.length<3)return void this.$toast("必须要选择三个哦～");let t=[];for(var e of this.selectedBoards){const i=this.boardList.filter((t=>-1!=t.id.indexOf("hotel")&&t.id===e))[0],n=this.boardList.filter((t=>-1!=t.id.indexOf("around")&&t.id===e))[0],o=this.boardList.filter((t=>-1!=t.id.indexOf("signIn")&&t.id===e))[0];if(i){const e={width:1420,height:455,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1420,height:455,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/hotelBoard.jpg"},{type:"text",x:625,y:128,width:600,autoHeight:!0,lineHeight:1.4,letterSpacing:"1px",fontSize:45,bold:800,color:"#333",fontFamily:'"buer"',content:i.options.des},{type:"img",x:94,y:207,width:143,height:107,content:i.options.img_url},{type:"text",x:94,y:150,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:i.options.name},{type:"text",x:135,y:389,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:i.options.other},{type:"text",x:135,y:364,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:i.options.address},{type:"text",x:135,y:340,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:i.options.time}]};ht()(e,(e=>{t.push(e)}),(t=>console.error(t)))}if(n){const e={width:1420,height:455,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1420,height:455,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/aroundBoard.jpg"},{type:"text",x:625,y:128,width:600,autoHeight:!0,lineHeight:1.4,letterSpacing:"1px",fontSize:45,bold:800,color:"#333",fontFamily:'"buer"',content:n.options.des},{type:"text",x:650,y:361,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:"buer-b",content:"——"+n.options.person},{type:"img",x:94,y:207,width:143,height:107,content:n.options.img_url},{type:"text",x:94,y:150,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:n.options.name},{type:"text",x:170,y:341,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.distance},{type:"text",x:170,y:365,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.per},{type:"text",x:170,y:316,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.recommend},{type:"text",x:170,y:388,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:n.options.time}]};ht()(e,(e=>{t.push(e)}),(t=>console.error(t)))}if(o){const e={width:1420,height:455,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1420,height:455,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/signInBoard.jpg"},{type:"text",x:625,y:128,width:600,autoHeight:!0,lineHeight:1.4,letterSpacing:"1px",fontSize:45,bold:800,color:"#333",fontFamily:'"buer"',content:o.options.des},{type:"text",x:650,y:361,width:492,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:28,textAlign:"right",color:"#333",fontFamily:"buer-b",content:"——"+o.options.person},{type:"img",x:94,y:207,width:143,height:107,content:o.options.img_url},{type:"text",x:94,y:150,width:608,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:36,bold:800,color:"#333",fontFamily:'"buer"',content:o.options.name},{type:"text",x:170,y:316,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:o.options.distance},{type:"text",x:170,y:341,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:o.options.traffic},{type:"text",x:170,y:365,width:480,autoHeight:!0,lineHeight:1.6,letterSpacing:"1px",fontSize:14,color:"#333",fontFamily:'"buer-b"',content:o.options.time}]};ht()(e,(e=>{t.push(e)}),(t=>console.error(t)))}}setTimeout((()=>{const e={width:1701,height:2551,quality:1,ratio:2,output:"png",elements:[{type:"img",x:0,y:0,width:1701,height:2551,radius:0,content:"https://fp.yangcong345.com/middle/1.0.0/board-bg.jpg"},{type:"text",x:0,y:560,width:1701,autoHeight:!0,letterSpacing:"1px",textAlign:"center",fontSize:36,color:"#333",fontFamily:'"buer-b"',content:this.baseInfo[0].options.hotelName},{type:"img",x:141,y:650,width:1420,height:455,radius:0,content:t[0]},{type:"img",x:141,y:1167,width:1420,height:455,radius:0,content:t[1]},{type:"img",x:141,y:1684,width:1420,height:455,radius:0,content:t[2]}]};var i=document.getElementById("boardImg");ht()(e,(t=>{i.src=t,this.boardBgImg=[{name:"酒店展板",src:t,id:"board-big-img"}],this.loading=!1}),(t=>console.error(t)))}),2e3)},backToBoardList(){this.showDownload=!1},close(){this.showDownload=!1,this.showBoardList=!1},changeChecked(t){const e=this.selectedBoards.some((e=>e===t.id)),i=this.selectedBoards.some((t=>-1!=t.indexOf("hotel")));3!==this.selectedBoards.length||e?t.checked||!i||-1==t.id.indexOf("hotel")?(this.boardList.map((e=>{if(e.id===t.id)return e.checked=!e.checked})),this.selectedBoards=e?this.selectedBoards.filter((e=>e!==t.id)):[...this.selectedBoards,t.id]):this.$toast("酒店特色服务最多只能选择一个模块哦"):this.$toast("已经选择三个展板，请取消后再次选择")},getImgArrayBuffer(t){return new Promise(((e,i)=>{let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status?e(this.response):i(this.status)},n.send()}))},downImg(){let t=this,e=new(r()),i={},n=[];const o=this.boardList.concat(this.about).concat(this.baseInfo).concat(this.boardBgImg);for(let s of o){const o=t.getImgArrayBuffer(s.src).then((t=>{e.file(s.name+".png",t,{binary:!0}),i[s.id]=t}));n.push(o)}Promise.all(n).then((()=>{e.generateAsync({type:"blob"}).then((t=>{c().saveAs(t,this.baseInfo[0].options.hotelName)}))})).catch((()=>{console.error("文件压缩失败")}))}}},vt=gt,ft=(0,m.Z)(vt,o,s,!1,null,null,null),xt=ft.exports;const _t={install:function(t){const e=t.extend(I),i=new e;i.$mount(document.createElement("div")),document.body.appendChild(i.$el),t.prototype.$toast=(t,e=1500)=>{i.message=t,i.visible=!0,setTimeout((()=>{i.visible=!1}),e)}}};n.ZP.use(_t),n.ZP.config.productionTip=!1,new n.ZP({render:t=>t(xt)}).$mount("#app")},2325:function(t,e,i){var n,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i(7658),function(a,r){"object"===s(e)?t.exports=r():(n=r,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o))}(0,(function(){"use strict";return Object.assign||(Object.assign=function(t){null==t&&(t={}),t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),function(t,e,i,n){var o=n||document.createElement("canvas"),s=Object.assign({},{width:750,height:200,output:"jpeg",quality:.6,lineHeight:1.5,color:"#263238",textAlign:"left",fontSize:14,fontFamily:'"PingFang SC",tahoma,arial,"helvetica neue","hiragino sans gb","microsoft yahei",sans-serif',autoHeight:!1,ratio:2,bgColor:"rgba(255, 255, 255, 0)",elements:[]},t),a=o.getContext("2d"),r=s.ratio,l=function(t){return t*r},c=0,d=0,p=0,u=0,h=0;s.width*=r,s.height*=r,o.width=s.width,o.height=s.height,a.fillStyle=s.bgColor,a.fillRect(0,0,s.width,s.height),a.textBaseline="middle";var m=function(t){return"center"===t},g=function(t){return"right"===t||"end"===t},v=function(t){return a.measureText(t).width},f=function(t,e,i){var n=t+"px "+e;return i&&(n=i+" "+n),n},x=function(t,e,i,n,o,r){var l=function(t,e,i){for(var n=t.length,o="",s=[],a=0;a<n;a++){var r="\n"===t[a];v(o)<e&&!r?o+=t[a]:(s.push(o),o=r?"":t[a])}return o&&s.push(o),s}(t,n),d=(l.length+1)*r;s.autoHeight&&d>o&&(c+=o-d),l.forEach((function(t,n){return a.fillText(t,e,i+n*r)}))},_=function(){++d===u&&function(){if(s.output){var t=s.width,i=s.height;s.autoHeight&&(i+=c);var n=a.getImageData(0,0,t,i);o.width=t,o.height=i,a.clearRect(0,0,t,s.height),a.putImageData(n,0,0);var r=o.toDataURL("image/"+s.output,s.quality);setTimeout((function(){e&&e(r)}),0)}else e&&e(null)}()},y=function(t){return"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?t+6:t},b=function(t){var e=l(t.x||0),i=l(t.width||0),n=l(t.y||0),o=l(t.height||0);0!==c&&(n+=c);var r=t.imgObj,d=t.textAlign;if(a.save(),t.autoHeight){var p=r.height*(i/r.width);s.autoHeight&&(c+=p-o),o=p}m(d)?function(t,e,i,n,o){var r=e+(s.width-n)/2;a.drawImage(t,r,i,n,o)}(r,e,n,i,o):g(d)?function(t,e,i,n,o){var r=e+s.width-n;a.drawImage(t,r,i,n,o)}(r,e,n,i,o):a.drawImage(r,e,n,i,o),a.restore(),t.radius>0&&function(t,e,i,n,o){a.save(),a.beginPath(),a.moveTo(t+o,e),a.arcTo(t+i,e,t+i,e+o,o),a.arcTo(t+i,e+n,t+i-o,e+n,o),a.arcTo(t,e+n,t,e+n-o,o),a.arcTo(t,e,t+o,e,o),a.closePath(),a.clip()}(e,n,i,o,t.radius),_()},w=function(t){var e=t.fontfamily||s.fontFamily,i=l(t.fontSize||s.fontSize),n=t.textAlign||s.textAlign,o=l(t.width)||s.width,r=l(t.height||0),d=t.color||s.color,p=t.lineHeight||s.lineHeight,u=f(i,e,t.bold),h=t.content,b=l(t.x||0),w=l(t.y||0),C=p*i;switch(n){case"center":b+=o/2||s.width/2;break;case"right":case"end":b+=o||s.width}if(0!==c&&(w+=c),t.maxWidth&&(h=function(t,e){for(var i=t.length,n=0;n<i;n++)if(v(t.substr(0,n+1))>e)return"".concat(t.substr(0,n),"...");return t}(h,t.maxWidth)),w+=C/2,a.beginPath(),a.fillStyle=d,a.font=u,a.textAlign=n,"string"!=typeof h)!function(t,e,i,n,o,r,d,p,u){if(t&&t.length){var h=e,x=i,_=0,b=[],w=a.textAlign,C=[],I=0;t.forEach((function(t){var e=t.content,i=l(t.fontSize)||d,m=t.fontfamily||p,g=f(i,m,t.bold);a.font=g;for(var y=0;y<e.length;y++){var w="\n"===e[y],S=v(e[y]);if((_+=S)>n&&u||w){x+=o,s.autoHeight&&(c+=o);var H=w?0:S;b.push(_-H),_=H,I+=1}C[I]||(C[I]=[]),C[I].push({content:e[y],x:h+_-S,y:x,color:t.color||r,font:g})}})),_&&b.push(_),a.textAlign="left",C.forEach((function(t,e){var i=b[e];t.forEach((function(t){a.fillStyle=t.color,a.font=t.font;var e=t.x;m(w)&&(e-=i/2),g(w)&&(e-=i),a.fillText(t.content,e,y(t.y))}))}))}}(h,b,y(w),o,C,d,i,e,t.autoHeight);else if(t.autoHeight)x(h,b,w,o,w+r,C);else if(t.rotate){var I=s.width-(t.width||0);a.translate(I/2,w),a.rotate(Math.PI/180*t.rotate),a.fillText(h,0,0),a.fill(),a.setTransform(1,0,0,1,0,0)}else a.fillText(h,b,w),a.fill();a.closePath(),_()},C=s.elements;if(C&&C.length){u=C.length;var I=C.map((function(t){if("img"===t.type)return h++,t}));!function(t,e){0!==h?t.forEach((function(t){if(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){t.imgObj=n,++p===h&&e&&e()},n.onerror=function(t){return i&&i(t),!1},n.src=t.content}})):e&&e()}(I,(function(){C.forEach((function(t,e){"img"===t.type?(t.imgObj=I[e].imgObj,b(t)):w(t)}))}))}}}))}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,s){if(!n){var a=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],s=t[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[l])}))?n.splice(l--,1):(r=!1,s<a&&(a=s));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[n,o,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(l)var d=l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(d)},n=self["webpackChunkvuepages"]=self["webpackChunkvuepages"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(4289)}));n=i.O(n)})();
//# sourceMappingURL=app.d433b59d.js.map